import{a as v,b as x,r as _,e as g,f as p,u as s,h as o,i as r,j as k,k as m,t as y,F as w,l as C,o as a}from"./entry.4f2c39ea.js";import{u as c}from"./fetch.57d84e55.js";const z=""+globalThis.__publicAssetsURL("question-img.png"),$=""+globalThis.__publicAssetsURL("01.png"),q=""+globalThis.__publicAssetsURL("02.png"),A=""+globalThis.__publicAssetsURL("03.png"),Q=""+globalThis.__publicAssetsURL("04.png"),T={key:0},D={key:1,class:"col-12"},O={class:"row"},U=r("img",{src:z,alt:"",class:"img-fluid position-absolute",style:{width:"700px",left:"-320px",bottom:"0"}},null,-1),F={class:"my-auto",style:{"padding-bottom":"100px"}},j={key:0,src:$,class:"w-50 mt-5",style:{"padding-left":"200px"},alt:"01"},E={key:1,src:q,class:"w-50 mt-5",style:{"padding-left":"200px"},alt:"01"},L={key:2,src:A,class:"w-50 mt-5",style:{"padding-left":"200px"},alt:"01"},R={key:3,src:Q,class:"w-50 mt-5",style:{"padding-left":"200px"},alt:"01"},B={style:{"padding-left":"200px"}},S={class:"col-6 ps-4 d-flex"},P={class:"my-auto"},H=r("h3",{style:{color:"#ED1C27"}},"Cocher la case correspondante",-1),I={class:"form-check mb-3 d-flex"},J=["name","id","value","onClick"],K=["for"],M=v({__name:"index",setup(N){const i=x(),e=_({id:0,name:"",displayOrder:0,answers:[]}),u=_(0);g(async()=>{await f()});async function f(){const t=c("https://darty-fete-des-meres.dev-sandbox.fr/api/quizzes/1","$vQBfp4tYdU"),n=c("https://darty-fete-des-meres.dev-sandbox.fr/api/customer_quizzes/"+i.params.token,"$S4CujAuc1n");await t.execute(),await n.execute();const d=t.data.value,l=n.data.value;l.currentQuestion&&i.params.id!=l.currentQuestion.id?p(`/${i.params.token}/quiz/${l.currentQuestion.id}`):l.currentQuestion?e.value=d.questions.find(b=>b.id===l.currentQuestion.id):p(`/${i.params.token}/resultat`)}function h(){if(u.value!==0){try{c("https://darty-fete-des-meres.dev-sandbox.fr/api/customer_answers",{method:"POST",body:{answer:"https://darty-fete-des-meres.dev-sandbox.fr/api/answers/"+u.value,customerQuiz:"https://darty-fete-des-meres.dev-sandbox.fr/api/customer_quizzes/"+i.params.token},headers:{"Content-type":"application/json; charset=UTF-8"}},"$d6KJJRbLoj"),u.value=0}catch(t){throw t}if(e.value.displayOrder>=4)try{c("https://darty-fete-des-meres.dev-sandbox.fr/api/customer_quizzes/"+i.params.token,{method:"PATCH",body:{currentQuestion:null},headers:{"Content-type":"application/merge-patch+json; charset=UTF-8"}},"$IW2cdxsaj6"),p(`/${i.params.token}/resultat`)}catch(t){throw t}else try{let t=e.value.displayOrder+1,n=i.params.token;c("https://darty-fete-des-meres.dev-sandbox.fr/api/customer_quizzes/"+i.params.token,{method:"PATCH",body:{currentQuestion:"https://darty-fete-des-meres.dev-sandbox.fr/api/questions/"+t},headers:{"Content-type":"application/merge-patch+json; charset=UTF-8"}},"$WAEtol71XK"),p(`/${n}/quiz/${t}`)}catch(t){throw t}}}return(t,n)=>s(e).id==0?(a(),o("div",T)):(a(),o("div",D,[r("div",O,[r("div",{class:"col-6 text-white d-flex position-relative",style:k([{"background-color":s(e).bgColor},{"min-height":"500px"}])},[U,r("div",F,[s(e).displayOrder==1?(a(),o("img",j)):m("",!0),s(e).displayOrder==2?(a(),o("img",E)):m("",!0),s(e).displayOrder==3?(a(),o("img",L)):m("",!0),s(e).displayOrder==4?(a(),o("img",R)):m("",!0),r("h1",B,y(s(e).name),1)])],4),r("div",S,[r("div",P,[H,(a(!0),o(w,null,C(s(e).answers,d=>(a(),o("div",I,[r("input",{class:"form-check-input border border-3 me-3 my-auto",style:{"border-radius":"0","border-color":"#005EAD !important","min-width":"30px","max-width":"30px","min-height":"30px","max-height":"30px"},type:"radio",name:s(e).id,id:d.id,value:d.name,onClick:l=>u.value=d.id},null,8,J),r("label",{class:"form-check-label fw-bold my-auto",style:{color:"#005EAD"},for:d.id},y(d.name),9,K)]))),256)),s(e).displayOrder==4?(a(),o("div",{key:0,class:"text-decoration-underline fw-bold fs-4",style:{cursor:"pointer",color:"#ED1C27"},onClick:n[0]||(n[0]=d=>h())},"Afficher les rÃ©sultats")):(a(),o("div",{key:1,class:"text-decoration-underline fw-bold fs-4 mt-5",style:{cursor:"pointer",color:"#ED1C27"},onClick:n[1]||(n[1]=d=>h())},"Question suivante >"))])])])]))}});export{M as default};
